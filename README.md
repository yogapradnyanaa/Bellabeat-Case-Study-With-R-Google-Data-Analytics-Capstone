# Bellabeat Study Case

## 📌Introduction
Bellabeat is a high-tech company that manufactures health-focused products specifically designed for women. Co-founded by Urška Sršen, who also serves as Chief Creative Officer, the company has built a diverse team and holds strong potential to become a larger player in the global smart device market. Urška believes that analyzing fitness data from smart devices could help unlock new growth opportunities for the company.

To support this vision, an analysis of smart device data is conducted to gain insights into how consumers are using their devices in daily life. These insights will serve as a foundation for developing Bellabeat’s marketing strategy. The analysis and high-level strategic recommendations will be presented to the Bellabeat executive team to inform data-driven decisions and future business direction.

## 1. ASK
***🎯Business task:***

Analyze how people use their smart devices in daily life to identify trends and usage patterns. By understanding these trends, Bellabeat can apply the insights to its products and develop effective marketing strategies, enabling the company to discover new opportunities for future growth.

***👥 Key Stakeholders:***

Urška Sršen, Co-founder & CCO: Directs the focus of analysis to support data-driven marketing strategies.

Sando Mur, Co-founder & Executive: Involved in strategic reviews and decision-making.

Executive Team: Responsible for approving the company’s growth strategy.

Marketing Analytics Team: Conducts analysis and delivers the necessary insights.

***❓The following are the main questions need to explore based on the business task:***

What are the daily usage trends and patterns of Bellabeat smart device users based on the available data?

How can these insights inform the company’s marketing strategy?

## 2. Prepare

***🗂Data stored***

Sršen encourages to use public data that explores smart device users’ daily habits. The dataset is from (CC0: Public Domain, dataset made available through Mobius). This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. 

Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits.

***✅Data Credibility Analysis – ROCCC Approach (Reliable, Original, Comprehensive, Current, Cited)***
  
- 📉Reliable (Low):
The data includes only 30 users collected through a survey via Amazon Mechanical Turk, which is the minimum sample size required for basic statistical analysis. However, given the limited sample size, the data is not sufficiently reliable for generalizing to the entire smartwatch user population. As a result, it may be biased and unrepresentative of the broader user base.

- 📉Original (Low):
The data was obtained from a third-party source (a survey conducted via Amazon Mechanical Turk) and not collected directly by Bellabeat. Therefore, its accuracy and relevance to Bellabeat’s specific needs may be limited.

- 📉Comperhensive (Low):
The dataset has only three months of time range, which may limit the ability to observe long term trend. Dataset lacks detailed demographic information such as age or location. Without this context, it's hard to understand whether the observed patterns apply to Bellabeat’s target market.

- 📉Current (Low):
The dataset was collected in 2016, and since then, health habits, device usage patterns, and technology adoption have evolved significantly. As a result, the insights derived from this data may be less relevant or applicable to today's market and business environment.

- 📉Cited (Low):
The dataset was sourced from Amazon Mechanical Turk without clear documentation on who collected the data, how it was collected, or any official citation or publication. The absence of a verifiable source or proper citation undermines the credibility of the data and makes it difficult to validate or replicate the dataset for further analysis.

## 3. Process

For further analysys, is using rstudio.

- Importing the dataset
  
I only used four datasets for this analysis because these files are the most relevant to the objective of analyzing users’ health behavior. The other files contain minute-level or second-level granular data, which are less aligned with the strategic focus of this analysis.
```
dailyactivity <- read_csv("../input/fitbit/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
sleep <- read_csv("../input/fitbit/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
weight <- read_csv("../input/fitbit/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")
step_hour <- read_csv("../input/fitbit/Fitabase Data 4.12.16-5.12.16/hourlySteps_merged.csv")
```

- Exploring and Cleaning the Dataset

After uploading the dataset, the next step is to explore and clean the data to ensure it's ready for analysis.

1. Initial Exploration
I started by calling the skimr library to get a comprehensive overview of the dataset:

`library(skimr)
`

Then, I used the `skim_without_charts()` function to review each file. This helped identify:

The distribution of values in each column

Any missing values

Presence of whitespace

Column names and data types

>Note: Since all rows in the dataset are numeric, spelling checks were not applicable.

```
skim_without_charts(dailyactivity)
skim_without_charts(sleepday)
skim_without_charts(weight)
skim_without_charts(step_hour)
```

2. Outlier Check

In the `dailyActivity_merged.csv` file, an unusually high value was found in the `TotalSteps` column. Upon closer inspection, this value was consistent with other activity-related columns such as `TotalDistance` and `TotalActiveMinutes`, which also showed high values. The value is considered a contextually valid extreme, not a data entry error. Therefore, it was retained in the dataset and not treated as an outlier to be removed.

3. Inconsistent Date Format

Another issue identified was inconsistent date formats across multiple files. The date columns were in `character` format and contained AM/PM strings. To standardize the date format, I converted it using the `lubridate` package:
```
library(lubridate)
sleepDay_merged$SleepDay <- mdy_hms(sleepDay_merged$SleepDay)
```

4. To ensure the analysis focuses on relevant and representative data, the number of unique respondents in each dataset was checked using:
```
n_distinct(dailyactivity)
n_distinct(sleepday)
n_distinct(weight)
n_distinct(step_hour)
```
The dataset contains 33 unique IDs in `dailyActivity`, 24 in `sleepDay`, 8 in `weightLogInfo`, and 33 in `hourlySteps`.
Given that the weightLogInfo file only includes data from 8 users, the sample size is too small to support a meaningful or representative analysis.

As a result, this file was excluded from the main analysis. The focus was directed toward other datasets dailyActivity, sleepDay, and step_hour which include a larger number of respondents and provide a more comprehensive view of user behavior.


5. Removed duplicate entries using the following code:

`dailyactivity <- dailyactivity[!duplicated(dailyactivity), ]`

Now the datasets are ready to analyze

## 4. Analyze

**1. Exploration will be conducted using the summary() function to generate basic descriptive statistics.**
```
dailyActivity_merged |>
select(TotalSteps,
       TotalDistance,
       VeryActiveMinutes,
       FairlyActiveMinutes,
       LightlyActiveMinutes,
       SedentaryMinutes,
       Calories) %>%
  summary()

hourlySteps_merged |>
  select(ActivityHour,
         StepTotal) %>%
  summary()

sleepDay_merged |> 
  select(TotalSleepRecords,
         TotalMinutesAsleep,
         TotalTimeInBed) |> 
  summary()

weightLogInfo_merged |> 
  select(WeightKg,
         BMI) |> 
  summary()
```

<img width="1036" height="560" alt="image" src="https://github.com/user-attachments/assets/1575737c-ba0e-4cf9-9942-3b1cca43fd4e" />

- Based on the descriptive analysis, users recorded an average of 7,638 daily steps—below the CDC recommendation of 10,000. The average distance traveled per day is 5.49 km, with a maximum of 28.03 km, indicating some highly active users. Light activity is the most common, averaging 192.8 minutes daily, compared to 13.56 minutes for moderate and 21 minutes for vigorous activity. Sedentary time is relatively high at 991 minutes (about 16.5 hours) per day, suggesting a largely inactive lifestyle. Average calories burned per day are 2,304, or around 97 per hour.

- Hourly step data spans from April 12 to May 12, 2016, with an average of 320 steps per hour, peaking at 10,554 in certain hours.

- Sleep data shows users typically sleep once per day, averaging 419 minutes (≈7 hours) of sleep and 458 minutes in bed, implying a gap between time in bed and actual sleep.

- For weight data, the average weight is 72.04 kg (range: 52.6–133.5 kg), and the average BMI is 25.19 borderline overweight with a maximum of 47.54, indicating severe obesity.


**2. The dailyActivity and sleepDay datasets were merged**
   
Due to their shared daily structure, with matching Id and date columns—allowing analysis of the relationship between physical activity and sleep duration. Other files, such as hourlySteps, were not merged because of their finer hourly granularity, which would require additional aggregation. Meanwhile, weightLogInfo was excluded from the main analysis due to limited participants and inconsistent logging, making it less representative.
```
merged_SteepSleep <- 
  inner_join(dailyActivity_merged, sleepday_new_test,
             by = c("Id", "ActivityDate" = "SleepDay"))
```


**3. Focus of the Analysis** 

  This section addresses the question posed in the ASK phase of the business task:
  > "What are the daily usage trends and patterns of Bellabeat smart device users based on the available data?"

  To answer this, the following key variables will be analyzed:

- Daily usage trends – to identify general activity levels and changes in user behavior over time.

- User behavior patterns – to uncover recurring usage habits, such as peak activity hours, consistency of sleep, and preferred activity types.

**Physical Activity (Source: `dailyActivity_merged`, `hourlySteps_merged`)**

- TotalSteps – reflects overall daily activity intensity.
- VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes – indicate different levels of activity types.
- Calories – represents total energy output.
- ActivityDate – used to analyze daily trends (e.g., from April 12 to May 12, 2016).

**Sleep Patterns (Source: `sleepDay`)**

- TotalMinutesAsleep – indicates sleep quality.
- TotalTimeInBed – used to assess sleep efficiency.
- SleepDay – provides the date for analyzing sleep trends.


**4. Analysis Step: Which Day Has the Most Steps?**

Let’s find out on which day people took the most steps.
```
dailyActivity_merged |>
  mutate(Day = weekdays(as.Date(ActivityDate))) |>
  group_by(Day) |>
  summarise(AverageSteps = mean(TotalSteps)) |>
  arrange(desc(AverageSteps))
```
<img width="567" height="522" alt="image" src="https://github.com/user-attachments/assets/1769260c-1c07-4625-a7c0-8a96e13d4a17" />

Users tend to be more physically active on Tuesdays and Saturdays, while Sunday is the least active day. This suggests that physical activity peaks at the beginning and end of the week, whereas weekends especially sunday are commonly used for complete rest by most users.


**5. Then, at what time do people take the most steps?**
```
hour_step <- hourlySteps_merged |> 
  mutate(Hour = hour(ActivityHour)) |> 
  group_by(Hour) |> 
  summarise(avg_steps = mean(StepTotal)) %>%
  arrange(desc(avg_steps))
```
<img width="525" height="487" alt="image" src="https://github.com/user-attachments/assets/7b45225a-4cdb-4788-b0c9-9d75da0e5ba7" />

Step counts begin to increase in the morning starting at 6 AM, peak around 6 PM and 7 PM, then gradually decline into the night. This likely reflects users engaging in workouts, evening walks, or other late-day activities after work


**6. Correlation between totalstep and calories**
```
# Create scatterplots
ggplot(dailyActivity_merged, aes(x = TotalSteps, y = Calories)) +
  geom_point(alpha = 0.4) +
  geom_smooth(method = "lm", se = FALSE, color = "blue") +
  labs(title = "Correlation between totalstep and calories",
       x = "Total Steps", y = "Calories")

# Check the r Value
cor(dailyActivity_merged$TotalSteps, dailyActivity_merged$Calories)
```
<img width="524" height="519" alt="image" src="https://github.com/user-attachments/assets/1619f080-6af8-41f9-a45c-1f775de58fda" />

The correlation coefficient between total steps and calories burned is r = 0.59, indicating a moderate positive relationship as step count increases, calories burned also tend to increase.


**7. Multiple Linear Regression to Predict Calories Burned**

Multiple linear regression was conducted to examine the combined effect of several activity variables on calories burned
```
model3 <- lm(Calories ~ TotalDistance + VeryActiveMinutes + LightlyActiveMinutes + FairlyActiveMinutes + SedentaryMinutes, data=dailyActivity_merged)
summary(model3)
```
<img width="565" height="242" alt="image" src="https://github.com/user-attachments/assets/d1d0b426-1a85-456c-909e-a32760dc6f1c" />

- The regression model yields an Adjusted R-squared of 0.4883, indicating that approximately 48.8% of the variation in calories burned is explained by the included variables. The remaining variation may be due to unobserved factors such as weight, age, or body composition, which are not available in the weightLogInfo dataset.

- TotalSteps was excluded due to high correlation with TotalDistance to avoid multicollinearity.

- Significance tests show that VeryActiveMinutes and TotalDistance are the most significant predictors of calories burned, highlighting the importance of intensity and distance. LightlyActiveMinutes and SedentaryMinutes also have an effect, though smaller. FairlyActiveMinutes is not statistically significant, indicating an inconsistent contribution to calorie burn.

**8. Activity Intensity Analysis: how each activity intensity level contributes to the total minutes**

We’ll examine the proportion of time spent in each activity intensity category Sedentary, Lightly Active, Fairly Active, and Very Active by visualizing their contribution to the total minutes using a pie chart

```
#Calculate total minutes per user
dailyActivity_merged <- dailyActivity_merged |> 
  mutate(total_minutes = VeryActiveMinutes +
           FairlyActiveMinutes +
           LightlyActiveMinutes +
           SedentaryMinutes)

#Calculate the percentage of each activity type
sedentary_percentage <- sum(dailyActivity_merged$SedentaryMinutes) / sum(dailyActivity_merged$total_minutes) * 100
lightly_percentage   <- sum(dailyActivity_merged$LightlyActiveMinutes) / sum(dailyActivity_merged$total_minutes) * 100
fairly_percentage    <- sum(dailyActivity_merged$FairlyActiveMinutes) / sum(dailyActivity_merged$total_minutes) * 100
active_percentage    <- sum(dailyActivity_merged$VeryActiveMinutes) / sum(dailyActivity_merged$total_minutes) * 100

#Store the results in a data frame
percentage <- data.frame(
  level = c("Sedentary", "Lightly", "Fairly", "Very Active"),
  minutes = c(sedentary_percentage, lightly_percentage, fairly_percentage, active_percentage)
)

#Create the pie chart
plot_ly(percentage,
        labels = ~level,
        values = ~minutes,
        type = "pie",
        textinfo = "label+percent")
```

<img width="569" height="470" alt="image" src="https://github.com/user-attachments/assets/aeb683c7-03ab-4d3f-a37e-ef78f672dee6" />

This insight indicates that most users tend to have a less active lifestyle, with very little time spent on more intense physical activities.


**9. Since people spend most of their time being sedentary, we will identify which day of the week has the highest sedentary time.**
```
#Calculate the average sleep duration per day
sleepday_new <- sleepday_new_test |>
  mutate(Day = factor(Day, c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))) |> 
  group_by(Day) |> 
  summarise(AvgSleep = mean(TotalMinutesAsleep))

#Create the graph
sleepday_new |> 
  ggplot(aes(x = Day, y = AvgSleep)) +
  geom_col(fill = "steelblue") +
  geom_hline(yintercept = mean(sleepday_new$AvgSleep),
             linetype = "dashed", color = "red", size = 1)
```

<img width="466" height="432" alt="image" src="https://github.com/user-attachments/assets/bf761641-f8be-4677-bd93-af45081cf56e" />

Users appear to be the least active on Mondays and Tuesdays, showing higher sedentary time compared to other days. This may indicate that users' early-week activities are dominated by desk jobs or routines with low physical movement


**10. Calculate daily sleep duration in minutes**
```
# Calculate the average sleep duration per day
sleepday_new <- sleepday_new_test |>
  mutate(Day = factor(Day, c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))) |> 
  group_by(Day) |> 
  summarise(AvgSleep = mean(TotalMinutesAsleep))

# Graph
sleepday_new |> 
  ggplot(aes(x = Day, y = AvgSleep)) +
  geom_col(fill = "steelblue") +
  geom_hline(yintercept = mean(sleepday_new$AvgSleep),
             linetype = "dashed", color = "red", size = 1)
```
<img width="438" height="400" alt="image" src="https://github.com/user-attachments/assets/1e4ddfda-4c69-4037-8eed-e0272dce0c02" />

Users tend to sleep longer on Sundays, possibly because they don’t have to work or engage in strenuous activities that day, allowing them to rest more. In contrast, sleep duration is slightly shorter on weekdays, likely due to work demands or daily routines.


**11. How about categorizing the sleep data into Weekdays and Weekends?**
```
sleepday_new_test |>
  group_by(DayType = ifelse(Day  %in% c("Saturday", "Sunday"), "Weekend", "Weekday")) |> 
  summarise(AvgSleep = mean(TotalMinutesAsleep)) |> 
  arrange(desc(AvgSleep))
```
<img width="558" height="522" alt="image" src="https://github.com/user-attachments/assets/881a6358-215b-4ee0-af04-6ba89410150e" />

The graph shows that the average sleep duration is higher on weekends compared to weekdays. This indicates that users tend to get less sleep during weekdays, possibly due to work routines or daily activities, and then try to compensate by sleeping longer on weekends.


**12. How is the sleep efficiency?**
```
# Adding a sleep efficiency column
sleepday_new_test <- sleepday_new_test |> 
  mutate(SleepEfficiency = TotalMinutesAsleep / TotalTimeInBed * 100)

# Grouping it into Weekend and Weekday
sleepday_new_test |> 
  mutate(DayType = ifelse(Day %in% c("Saturday", "Sunday"), "Weekend", "Weekday")) |>
  group_by(DayType) |>
  summarise(AverageEfficiency = mean(SleepEfficiency, na.rm = TRUE))
```
<img width="405" height="109" alt="image" src="https://github.com/user-attachments/assets/486b65d7-2f79-44ad-8faf-c117a1016705" />

Interestingly, despite the difference in sleep duration between weekdays and weekends, users' sleep efficiency remains relatively consistent at above 91% on both types of days.


**13. How often do users log sleep more than once per day?**
```
# How many user IDs have logged sleep more than once in a day?
sleepDay_merged |>
  filter(TotalSleepRecords > 1) |>
  distinct(Id) |> 
  nrow()

# How many total occurrences of sleeping more than once?
sleepDay_merged |>
  filter(TotalSleepRecords > 1) |>
  nrow()
```

There were **46 instances** of users recording more than one sleep session in a day, involving **12 unique users**. This suggests that a small group tends to have fragmented sleep patterns, such as naps or interrupted sleep. While not dominant, this may reflect specific lifestyles like shift work, fatigue, or mild sleep disorders. This insight could help Bellabeat develop features to track unconventional sleep patterns and offer more personalized recommendations.


## 6. Share
